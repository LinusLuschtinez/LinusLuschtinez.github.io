<!DOCTYPE html>
<html>
<head>
<title>cinematography</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class ="videography">
        <div class="text">
            <h1>Cinematography<br></h1>
        </div>

    </div>

    <!--  Davinci Quicktipps  -->
    <div class="gallery_group" id="DavinciTips">
        <div class="text">    
            <p3>"Davinci Quicktips Video Serie"</p3>
        </div>
        
        <div class="preview_gallery videogallery">
            <video muted preload="auto" playsinline preload="auto" poster="videos/video_preview/Quicktip_1.webp" loop>
                <source src="videos/Quicktip_1.mp4" type="video/mp4">
            </video>

            <video muted preload="auto" playsinline preload="auto" poster="videos/video_preview/Quicktip_2.webp" loop>
                <source src="videos/Quicktip_2.mp4" type="video/mp4">
            </video>

            <video muted preload="auto" playsinline preload="auto" poster="videos/video_preview/Quicktip_3.webp" loop>
                <source src="videos/Quicktip_3.mp4" type="video/mp4">
            </video>
        
            <video muted preload="auto" playsinline preload="auto" poster="videos/video_preview/Quicktip_4.webp" loop>
                <source src="videos/Quicktip_4.mp4" type="video/mp4">
            </video>            
        </div>

        <div class="full_gallery videogallery hidden">
            <video muted preload="auto" playsinline preload="auto" poster="videos/video_preview/Quicktip_5.webp" loop>
                <source src="videos/Quicktip_5.mp4" type="video/mp4">
            </video>
            
            <video muted preload="auto" playsinline preload="auto" poster="videos/video_preview/Quicktip_6.webp" loop>
                <source src="videos/Quicktip_6.mp4" type="video/mp4">
            </video>

            <video muted preload="auto" playsinline preload="auto" poster="videos/video_preview/Quicktip_7.webp" loop>
                <source src="videos/Quicktip_7.mp4" type="video/mp4">
            </video> 

            <video muted preload="auto" playsinline preload="auto" poster="videos/video_preview/Quicktip_8.webp" loop>
                <source src="videos/Quicktip_8.mp4" type="video/mp4">
            </video>
        </div>

        <div class="divider" onclick="toggleGallery(this)">
            ▼ Click to expand ▼
        </div>            
    </div>    


    <!--    Reels  -->
    <div class="gallery_group" id="Reels">
        <div class="text">    
            <p3>"Kurzvideo & Reels"</p3>
        </div>
        
        <div class="preview_gallery videogallery">
            <video muted preload="auto" playsinline preload="auto" poster="videos/video_preview/reel1.webp" loop>
                <source src="videos/reel1.mp4" type="video/mp4">
            </video>

            <video muted preload="auto" playsinline preload="auto" poster="videos/video_preview/door_cov.webp" loop>
                <source src="videos/Door_Fin.mp4" type="video/mp4">
            </video>

            <video muted preload="auto" playsinline preload="auto" poster="videos/video_preview/dub_cov.webp" loop>
                <source src="videos/Dublicate_Fin.mp4" type="video/mp4">
            </video>
        
            <video muted preload="auto" playsinline preload="auto" poster="videos/video_preview/reel4.webp" loop>
                <source src="videos/reel4.mp4" type="video/mp4">
            </video>            
        </div>

        <div class="full_gallery videogallery hidden">
            <video muted preload="auto" playsinline preload="auto" poster="videos/video_preview/plant_cov.webp" loop>
                <source src="videos/Planted_Fin.mp4" type="video/mp4">
            </video>
            
            <video muted preload="auto" playsinline preload="auto" poster="videos/video_preview/fw_reel1.webp" loop>
                <source src="videos/fw_reel1.mp4" type="video/mp4">
            </video>

            <video muted preload="auto" playsinline preload="auto" poster="videos/video_preview/reel3.webp" loop>
                <source src="videos/reel3.mp4" type="video/mp4">
            </video> 
        </div>

        <div class="divider" onclick="toggleGallery(this)">
            ▼ Click to expand ▼
        </div>     
    </div>

    <!--    Reels  -->
    <div class="gallery_group" id="WReels">
        <div class="text">    
            <p3>"Winstage Reels"</p3>
        </div>
        
        <div class="preview_gallery videogallery">
            <video muted preload="auto" playsinline preload="auto" poster="videos/Winstage/pangea.png" loop>
                <source src="videos/Winstage/Indian_Living_Pangea_Stil_1.mp4" type="video/mp4">
            </video>

            <video muted preload="auto" playsinline preload="auto" poster="videos/Winstage/Indian_Reel_1.png" loop>
                <source src="videos/Winstage/Indian_Living_Umzug_Reel_1.mp4" type="video/mp4">
            </video>

            <video muted preload="auto" playsinline preload="auto" poster="videos/Winstage/Winstage_1.png" loop>
                <source src="videos/Winstage/Reel_Winstage_1.mp4" type="video/mp4">
            </video>
        
            <video muted preload="auto" playsinline preload="auto" poster="videos/Winstage/Indian_Reel_2.png" loop>
                <source src="videos/Winstage/Indian_Living_Umzug_Reel_2.mp4" type="video/mp4">
            </video>            
        </div>
    </div>

    <!--    Music Videos --> 
    <div class="gallery_group" id="musicVideos">
        <div class="text">    
            <p3>"Musik Videos"</p3>
        </div>

        <div class="preview_gallery videogallery">
            
                <iframe src="https://www.youtube.com/embed/QB49qdl15r8?rel=0&playsinline=1" 
                        allow="autoplay; encrypted-media"
                        allowfullscreen></iframe>            
            
                <iframe src="https://www.youtube.com/embed/y61A42Tvv4I?rel=0&playsinline=1" 
                        allow="autoplay; encrypted-media"
                        allowfullscreen></iframe>

                <iframe src="https://www.youtube.com/embed/3TU84WNsM_I?rel=0&playsinline=1" 
                        allow="autoplay; encrypted-media"
                        allowfullscreen></iframe>

                <iframe src="https://www.youtube.com/embed/uVFuGyq6B5o?rel=0&playsinline=1" 
                        allow="autoplay; encrypted-media"
                        allowfullscreen></iframe>
        </div>
        <div class="preview_gallery videogallery">
            
                <iframe src="https://www.youtube.com/embed/r2WQZE10le8?rel=0&playsinline=1" 
                        allow="autoplay; encrypted-media"
                        allowfullscreen></iframe>            
            
                <iframe src="https://www.youtube.com/embed/1r-v88JPxWw?rel=0&playsinline=1" 
                        allow="autoplay; encrypted-media"
                        allowfullscreen></iframe>

                <iframe src="https://www.youtube.com/embed/y6du7DrcW-Q?rel=0&playsinline=1" 
                        allow="autoplay; encrypted-media"
                        allowfullscreen></iframe>

                <iframe src="https://www.youtube.com/embed/lRRn5v-3IFE?rel=0&playsinline=1" 
                        allow="autoplay; encrypted-media"
                        allowfullscreen></iframe>
        </div>

    </div>  

    <!--    anderes --> 
    <div class="gallery_group" id="anderes">
        <div class="text">    
            <p3>"Diverse Projekte"</p3>
        </div>

        <div class="preview_gallery videogallery">
            
                <iframe src="https://www.youtube.com/embed/PvW84AI0QtU?rel=0&playsinline=1" 
                        allow="autoplay; encrypted-media"
                        allowfullscreen></iframe>            
            
                <iframe src="https://www.youtube.com/embed/lJZALQKt7kU?rel=0&playsinline=1" 
                        allow="autoplay; encrypted-media"
                        allowfullscreen></iframe>

                <iframe src="https://www.youtube.com/embed/_wXC3RJ8JtY?rel=0&playsinline=1" 
                        allow="autoplay; encrypted-media"
                        allowfullscreen></iframe>




        </div>
    </div>  





    <div class="footer">
        <p4>© 2025 by Linus Luschtinez. All rights reserved.</p4>
    </div> 

<!-- ------------------- LIGHTBOX ------------------- -->
    <div id="videoLightbox" class="hidden">
      <span class="close" onclick="closeVideoLightbox()">&times;</span>
      <div id="lightbox-content">
          <!-- Hier wird entweder ein <video> oder ein <iframe> geladen -->
      </div>
      <a class="prev" onclick="navigateVideoLightbox(-1)">&#10094;</a> <!-- Linker Pfeil -->
      <a class="next" onclick="navigateVideoLightbox(1)">&#10095;</a> <!-- Rechter Pfeil -->
    </div>

    <!-- JavaScript für die Videogalerie -->
    <script>
    // ------------------- GALLERY TOGGLE -------------------
    function toggleGallery(button) {
        const galleryGroup = button.closest('.gallery_group');
        const fullGallery = galleryGroup.querySelector('.full_gallery');

        fullGallery.classList.toggle('hidden');

        if (fullGallery.classList.contains('hidden')) {
            button.textContent = "▼ Click to expand ▼";
        } else {
            button.textContent = "▲ Click to collapse ▲";
        }
    }
    </script>
    <script>
    // ------------------- VIDEO LIGHTBOX FUNCTIONALITY -------------------
    let currentVideoGalleryItems = []; // Speichert alle Video- und Iframe-Elemente der aktuellen Galerie
    let currentVideoIndex = 0;
    let currentVideoGalleryId = '';

    document.addEventListener('DOMContentLoaded', () => {
        // Event-Delegation für alle Videogalerien
        document.addEventListener('click', function(event) {
            const clickedElement = event.target;
            let videoSrc = '';
            let galleryId = '';
            let originalElement = null; // Speichert das original geklickte video/iframe Element

            // Prüfen, ob ein <video> Element geklickt wurde
            if (clickedElement.tagName === 'VIDEO' && clickedElement.closest('.gallery_group')) {
                videoSrc = clickedElement.querySelector('source').src;
                galleryId = clickedElement.closest('.gallery_group').id;
                originalElement = clickedElement;
            } 
            // Prüfen, ob ein <iframe> Element geklickt wurde
            else if (clickedElement.tagName === 'IFRAME' && clickedElement.closest('.gallery_group')) {
                videoSrc = clickedElement.src; // Die src des iframes ist die YouTube URL
                galleryId = clickedElement.closest('.gallery_group').id;
                originalElement = clickedElement;
            }

        if (videoSrc && galleryId) {
                openVideoLightbox(originalElement, galleryId); // Übergeben des Originalelements
            }
        });

        // Initialisiere Video-Hover-Effekte
        const videos = document.querySelectorAll('.videogallery video');
        videos.forEach(video => {
            video.addEventListener('mouseenter', () => {
                video.play();
            });

            video.addEventListener('mouseleave', () => {
                video.pause();
                video.muted = true;
                video.currentTime = 0;
            });
        
            // Optional: Beim Klick auf Video in der Vorschau Sound aktivieren (wird dann von Lightbox überschrieben)
            video.addEventListener('click', (e) => {
                // e.stopPropagation(); // Verhindert, dass das Bubbling an das document geht, wenn nur Sound aktiviert werden soll
                // video.muted = false;
            });
        });
    });


    function openVideoLightbox(originalElement, galleryId) {
        document.getElementById('videoLightbox').classList.remove('hidden');
        document.body.style.overflow = 'hidden'; // Verhindert Scrollen im Hintergrund

        const lightboxContent = document.getElementById('lightbox-content');
        lightboxContent.innerHTML = ''; // Alten Inhalt leeren

        currentVideoGalleryId = galleryId;
        const galleryElement = document.getElementById(galleryId);

        if (galleryElement) {
            // Sammeln aller `<video>` und `<iframe>` Elemente in der aktuellen Galerie
            // Wir müssen hier die originalen HTML-Elemente speichern, um ihren Typ und ihre src abrufen zu können
            currentVideoGalleryItems = Array.from(galleryElement.querySelectorAll('.videogallery video, .videogallery iframe'));
        
            // Finden Sie den Index des geklickten Elements in dieser gesammelten Liste
            currentVideoIndex = currentVideoGalleryItems.findIndex(item => item === originalElement);
        } else {
            currentVideoGalleryItems = [originalElement];
            currentVideoIndex = 0;
        }

        loadVideoInLightbox(currentVideoGalleryItems[currentVideoIndex]);
        updateVideoNavigationButtons();
    }

    function loadVideoInLightbox(item) {
        const lightboxContent = document.getElementById('lightbox-content');
        lightboxContent.innerHTML = ''; // Alten Inhalt leeren

        if (item.tagName === 'VIDEO') {
            const videoElement = document.createElement('video');
            videoElement.src = item.querySelector('source') ? item.querySelector('source').src : item.src;
            videoElement.controls = true;
            videoElement.autoplay = true;
            videoElement.muted = false; // Sound standardmäßig an
            videoElement.playsinline = true; // Wichtig für iOS
            videoElement.loop = false;
            videoElement.setAttribute('preload', 'auto');
            lightboxContent.appendChild(videoElement);
            videoElement.play(); // Startet die Wiedergabe
        } else if (item.tagName === 'IFRAME') {
            const iframeWrapper = document.createElement('div');
            iframeWrapper.classList.add('video-responsive-container'); // Für responsives YouTube
            const iframeElement = document.createElement('iframe');
            // Sicherstellen, dass autoplay aktiviert ist und rel=0 für YouTube
            let youtubeSrc = item.src;
            if (!youtubeSrc.includes('autoplay=1')) {
                youtubeSrc += (youtubeSrc.includes('?') ? '&' : '?') + 'autoplay=1';
            }
            if (!youtubeSrc.includes('rel=0')) {
                youtubeSrc += (youtubeSrc.includes('?') ? '&' : '?') + 'rel=0';
            }
            iframeElement.src = youtubeSrc;
            iframeElement.allow = "autoplay; encrypted-media; fullscreen";
            iframeElement.setAttribute('allowfullscreen', '');
            iframeWrapper.appendChild(iframeElement);
            lightboxContent.appendChild(iframeWrapper);
        }
    }


    function closeVideoLightbox() {
        document.getElementById('videoLightbox').classList.add('hidden');
        document.body.style.overflow = 'auto'; // Ermöglicht wieder Scrollen

        const lightboxContent = document.getElementById('lightbox-content');
        lightboxContent.innerHTML = ''; // Video/Iframe leeren, um Wiedergabe zu stoppen

        currentVideoGalleryItems = [];
        currentVideoIndex = 0;
        currentVideoGalleryId = '';
    }

    function navigateVideoLightbox(direction) {
        currentVideoIndex += direction;
        if (currentVideoIndex < 0) {
            currentVideoIndex = currentVideoGalleryItems.length - 1;
        } else if (currentVideoIndex >= currentVideoGalleryItems.length) {
           currentVideoIndex = 0;
        }
        loadVideoInLightbox(currentVideoGalleryItems[currentVideoIndex]);
        updateVideoNavigationButtons();
    }

    function updateVideoNavigationButtons() {
        // Hier können Sie optional Logik hinzufügen, um Pfeile am Anfang/Ende zu deaktivieren
        // Wenn Sie keinen Loop möchten. Aktuell ist ein Loop implementiert.
    }

    // Tastaturnavigation für Video Lightbox
    document.addEventListener('keydown', function(e) {
        if (!document.getElementById('videoLightbox').classList.contains('hidden')) {
            if (e.key === 'ArrowLeft') {
                navigateVideoLightbox(-1);
            } else if (e.key === 'ArrowRight') {
                navigateVideoLightbox(1);
            } else if (e.key === 'Escape') {
                closeVideoLightbox();
            }
       }
    });

    // Wischen für mobile Geräte (rudimentär)
    let videoTouchStartX = 0;
    const videoLightboxElement = document.getElementById('videoLightbox');

    if (videoLightboxElement) {
        videoLightboxElement.addEventListener('touchstart', function(e) {
            videoTouchStartX = e.touches[0].clientX;
        });

        videoLightboxElement.addEventListener('touchend', function(e) {
            let videoTouchEndX = e.changedTouches[0].clientX;
            if (videoTouchEndX < videoTouchStartX - 50) { // Nach links wischen
                navigateVideoLightbox(1);
            } else if (videoTouchEndX > videoTouchStartX + 50) { // Nach rechts wischen
                navigateVideoLightbox(-1);
            }
        });
    }
    </script>


    <!-- JavaScript für die Videogalerie -->
    <script>
        const videos = document.querySelectorAll('.videogallery video');

        videos.forEach(video => {
            
            video.addEventListener('mouseenter', () => {
                video.play();
            });

            video.addEventListener('mouseleave', () => {
                video.pause();
                video.muted = true; //Stellt sicher, dass das Video stummgeschaltet wird, wenn der Mauszeiger das Video verlässt
                video.currentTime = 0; //Startet das Video beim nächsten Hover von vorne
            });
            
            video.addEventListener('click', () => {
                video.muted = false;
            });


        });
    </script>

    <script>
        document.addEventListener("contextmenu", event => event.preventDefault());
    </script>

    <script>
        window.addEventListener('message', (event) => {
            if (event.data && event.data.theme) {
              const theme = event.data.theme;
           document.documentElement.classList.toggle('dark-mode', theme === 'dark');
            }
        });

        // Optional: gleich beim Laden das Theme übernehmen, falls schon im Storage gespeichert
          const storedTheme = localStorage.getItem('theme');
          if (storedTheme === 'dark') {
            document.documentElement.classList.add('dark-mode');
          }
    </script>

    
</body>
</html>